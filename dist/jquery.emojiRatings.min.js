/*
 *  jquery-emojiRatings - v1.0.0
 *  Adds a simple rating input made of emojis
 *  http://jqueryemojiratings.com
 *
 *  Made by Geoff Ellerby
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},i,c),this._defaults=i,this._name=g,this.init()}var f,g="emojiRating",h=!1,i={emoji:"U+2B50",count:5,fontSize:16,inputName:"rating"},j={smile:"U+1F603",wink:"U+1F609",laughing:"U+1F606",blush:"U+1F60A",heart_eyes:"U+1F60D",kissing_heart:"U+1F618",heart:"U+2764",heart_with_arrow:"U+1F498",broken_heart:"U+1F494",tongue_out_wink:"U+1F61C",tongue_out_eyes_closed:"U+1F61D",angry:"U+1F620",crying:"U+1F622",scream:"U+1F631",pray:"U+1F64F",poo:"U+1F4A9",star:"U+2B50",thinking:"U+1F914",hugging:"U+1F917"};a.extend(e.prototype,{init:function(){f=a(this.element),this.setupStyles(),this.renderEmojis(),this.handleClick(),this.handleHover()},lookupEmoji:function(a){return j[a]},decodeEmoji:function(a){return a.indexOf("U+")<0&&(a=this.lookupEmoji(a)),"&#x"+a.slice(2)+";"},setupStyles:function(){var a="cursor:pointer;opacity:0.2;text-decoration:none;",b="font-size:"+this.settings.fontSize+"px;",c=".jqEmoji{"+a+b+"}";f.append("<style>"+c+"</style>")},renderEmojis:function(){for(var a,b=this.decodeEmoji(this.settings.emoji),c=this.settings.count,d="<div class='jqEmoji-container'>",e=0;c>e;e++)a="<span class='jqEmoji' data-index='"+e+"'>"+b+"</span>",d+=a;d+="</div>",f.append(d)},clearEmojis:function(){f.find(".jqEmoji").each(function(){a(this).css("opacity",.2)})},colorEmojis:function(a){this.clearEmojis();for(var b=0;a>b;b++)f.find(".jqEmoji").eq(b).css("opacity",1)},handleClick:function(){var b=this;f.on("click",".jqEmoji",function(){var c=a(this).data("index"),d=parseInt(c,10)+1;b.colorEmojis(d),h?b.updateInput(d):(b.appendInput(d),h=!0)})},handleHover:function(){var b=this;f.on({mouseenter:function(){var c=parseInt(a(this).data("index"),10)+1;h||b.colorEmojis(c)},mouseleave:function(){h||b.clearEmojis()}},".jqEmoji")},appendInput:function(a){var b=this.settings.inputName,c="<input type='hidden' class='emoji-rating'",d=c+" name='"+b+"' value='"+a+"' />";f.append(d)},updateInput:function(a){var b=f.find("input.emoji-rating");b.val(a)}}),a.fn[g]=function(b){return this.each(function(){a.data(this,"plugin_"+g)||a.data(this,"plugin_"+g,new e(this,b))})}}(jQuery,window,document);