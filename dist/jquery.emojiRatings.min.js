/*
 *  jquery-boilerplate - v4.0.0
 *  A jump-start for jQuery plugins development.
 *  http://jqueryboilerplate.com
 *
 *  Made by Zeno Rocha
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},h,c),this._defaults=h,this._name=f,this.init()}var f="emojiRating",g=!1,h={emoji:"U+2B50",count:5,fontSize:16,inputName:"rating"};a.extend(e.prototype,{init:function(){this.setupStyles(),this.renderEmojis(),this.handleClick(),this.handleHover()},decodeEmoji:function(a){return a.indexOf("U+")>-1?"&#x"+a.slice(2)+";":a},setupStyles:function(){var b="cursor:pointer;opacity:0.2;text-decoration:none;",c="font-size:"+this.settings.fontSize+"px;",d=".jqEmoji{"+b+c+"}";a(this.element).append("<style>"+d+"</style>")},renderEmojis:function(){for(var b,c=this.decodeEmoji(this.settings.emoji),d=this.settings.count,e=0;d>e;e++)b="<span class='jqEmoji' data-index='"+e+"'>"+c+"</span>",a(this.element).append(b)},clearEmojis:function(){var b=a(this.element);b.find(".jqEmoji").each(function(){a(this).css("opacity",.2)})},colorEmojis:function(b){var c=a(this.element);this.clearEmojis();for(var d=0;b>d;d++)c.find(".jqEmoji").eq(d).css("opacity",1)},handleClick:function(){var b=a(this.element),c=this;b.on("click",".jqEmoji",function(){var b=parseInt(a(this).data("index"),10)+1;c.colorEmojis(b),g?c.updateInput(b):(c.appendInput(b),g=!0)})},handleHover:function(){var b=a(this.element),c=this;b.on({mouseenter:function(){var b=parseInt(a(this).data("index"),10)+1;g||c.colorEmojis(b)},mouseleave:function(){g||c.clearEmojis()}},".jqEmoji")},appendInput:function(b){var c=a(this.element),d=this.settings.inputName,e="<input type='hidden' class='emoji-rating'",f=e+" name='"+d+"' value='"+b+"' />";c.append(f)},updateInput:function(b){var c=a(this.element),d=c.find("input.emoji-rating");d.val(b)}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);